# ch1 计算机系统概述

## 1. 计算机的概念和类型

【电子计算机】是一种可以存储程序，并且通过执行程序指令，可以自动、高速、精确地对数字信息进行各种复杂处理，然后输出运算结果的高科技智能电子设备。

【信息的数字化表示】在计算机中用**二进制代码**表示各种信息。在物理机制上用数字信号表示数字代码。

- 物理上易实现信息的表示与存储
- 抗干扰能力强，可靠性高
- 数值的表示范围大，精度高
- 可表示的信息类型广泛
- 能用数字逻辑技术进行处理

【存储程序工作方式】编制程序，存储程序，自动、连续执行程序，输出结果。

【计算机的工作流程】编写程序，输入程序，存储程序，转换为指令序列，执行指令，输出结果。

【计算机的分类】

- 模拟计算机：由模拟运算器件构成，处理在时间和数值上连续的模拟量，如电压、电流等。
- 数字计算机：由数字逻辑器件构成，处理离散的数字量。
    - 专用机：是以快速、经济和高集成度为主要指标的特殊计算机，是针对特定任务设计的计算机，适应性较差，如工控机、ATM 等。
    - 通用机：适应性较高，但是牺牲了效率、速度和经济性，如个人电脑。

## 2. 计算机的诞生和发展

【冯·诺伊曼思想】存储程序通用电子计算机方案（EDVAC），催生了第一台严格意义上的电子计算机 ENIAC。

【冯·诺伊曼体系】奠定了现代电子计算机的理论依据。

1. 用二进制代码表示程序和数据；
2. 采用存储程序的工作方式（核心思想）；
3. 新型的现代计算机硬件组成：存储器、运算器、控制器、输入设备和输出设备。

【计算机的发展历程】

- 第一代：电子管，速度低，体积大，价格昂贵，可靠性差，主要用于科学计算；
- 第二代：晶体管，体积缩小，可靠性提高，从科学计算扩大到数据处理；
- 第三代：中小规模集成电路，体积缩小，可靠性提高，速度达到 MIPS 级，机种多样化，小型计算机出现，软件和外设发展迅速，应用领域扩大；
- 第四代：大 / 超大规模集成电路，速度高达 GIPS 乃至 TIPS 级，多机系统和计算机网络迅速发展，微型计算机出现。

## 3. 计算机系统的层次结构

【硬件】是指构成计算机系统的实体和装置之类的有形设备，是组成计算机系统的物质基础。

【软件】是指由硬件所表达的各种内在信息，包括数据与控制程序，因为它们是无形的东西，所以称为软件或软设备。

【主要功能部件】

- CPU：主要由运算器、控制器等部件组成。
    - 运算器：完成算术和逻辑运算。主要由 ALU（算术逻辑单元）构成，执行算术、逻辑运算以及移位循环等操作，是 CPU 功能的主要执行部件。ALU 以全加器为核心，具有多种运算功能。运算的位数越多，计算精度就越高，但器件也更复杂。运算器的数据宽度一般是：$8$ 位、$16$ 位、$32$ 位、$64$ 位。
    - 控制器：产生控制命令（微命令），控制全机操作。
- 存储器：存储数据和数字化后的程序。
    - 存储单元：在存储器中保存一个 $n$ 位二进制数的 $n$ 个存储电路，组成一个存储单元。
    - 地址：存储器由许多存储单元组成，每个存储单元的编号称为地址。
    - 存储容量：存储器所有存储单元的总数。
    - 内存储器：即主存，是一种用来存放直接为 CPU 提供服务的程序和数据存储器。半导体存储芯片构成，工作速度较快，存储容量比外存小。
    - 外存储器：即辅存，为计算机配备的存储容量很大的辅助存储器。磁盘存储器、光盘存储器等，其主要特点是存储容量大，价格便宜，工作速度较慢。
- 输入 / 输出设备：执行输入 / 输出信息的转换。
    - 输入时：原始信息转换为二进制代码，送入主机；
    - 输出时：将二进制代码的处理结果转换为用户能够直接感知的形式（字符、图像、声音），并输出给用户。
- 总线（Bus）：能为多个部件分时共享的一组信息传送通路。
    - 数据总线：传送各种数据信息。
    - 地址总线：传送各种地址信息。
    - 控制总线：传送各种控制信号。
- 接口：外设的种类、数量是变化的，为了将总线与各类外设连接，须在两者之间设置一些部件，具有缓冲、转换、连接等功能，这些部件就是接口。

【计算机硬件的典型架构】

- 微型计算机：南 - 北桥架构，南桥连接 WIFI、PCI-E、BIOS、PATA、SATA、USB 等，北桥连接 CPU、HDMI、主存等。
- 小型计算机：多处理器架构
- 超级计算机：集群式架构

【多处理机系统结构】用多处理器 CPU 构成，根据处理器之间连接的紧密程度，又分为

- 紧密耦合型多机系统：多个 CPU + LM 组，通过系统总线构成多机系统，且有共享的全局主存储器；
- 松散耦合型多机系统：多个计算节点，由通信系统连接成的多机系统，无全局的主存储器。

【软件系统】

- 系统程序：负责系统调度管理，提供运行和开发环境、各种服务，确保系统运行良好。
- 应用程序：利用计算机来解决应用问题所编制的程序,如工程设计程序、数据处理程序、自动控制程序、企业管理程序、情报检索程序、科学计算程序等。

【计算机系统的层次结构】

- 软 - 硬件层次：软件部分从上到下包括系统分析级、用户程序级、应用程序级、语言处理程序级、操作系统级，硬件部分从上到下包括微程序级（MCU）、硬件逻辑部件级，软硬件分界面为机器指令级。
- 程序语言功能层次：从上到下为专用语言虚拟机、高级语言虚拟机、汇编语言虚拟机、机器语言物理机、硬件电路执行，产生控制信号。

【软硬件的逻辑等价性】计算机中的软件，理论上都可以 “固化” 或 “硬化” 成硬件，以高执行速度

- 软件的特点：易于实现各种逻辑和运算功能，但是常受到速度指标和软件容量的制约
- 硬件的特点：可以高速实现逻辑和运算功能，但是难以实现复杂功能或计算，受到控制复杂性指标的制约

## 4. 计算机系统的性能指标

【基本字长】指一次数据操作的基本位数，他会影响计算的精度、指令的功能。

【外频】外部频率或基频，也叫系统时钟频率。

【CPU 性能指标】

- 【主频】外频 × 倍频系数
- 【IPS】每秒执行指令数
- 【CPI】每条指令的时钟周期长度
- 【FLOPS】每秒执行浮点数运算的次数
- 【CPU 功耗】包括动态功耗和静态功耗，其中动态功耗：$P = C\times U^2\times f$，$C$ 为负载电容，$U$ 为工作电压，$f$ 为工作频率。

【数据传输率】带宽 = 位宽 × 工作频率 / $8$（$\tt B/S$），表示单位时间内数据的传输量。计算 PCI-E 总线的带宽时，一般还要考虑编码方式、单双工模式和通道路数等。

【存储器的容量】

- 内存（主存）容量：指可编址的存储单元个数 × 存储单元的位宽。
- 外存（辅存）容量：指存储器能存储的最大数据量，外存容量与总线地址码的位数无关。