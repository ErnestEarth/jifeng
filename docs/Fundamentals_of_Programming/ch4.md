# ch4 筛法与查找

## 1. 函数初探

**函数**是一个具有特定功能的、相对独立的模块，能够被多次使用。

函数设计的要素：

- 功能：函数的定义

    ```cpp
    /* 
     * bool: 	函数的返回值类型
     * isPrime: 函数的名字
     * int n: 	函数的参数为 n，类型为 int
     */
    bool isPrime(int n)
    {
        bool bPrime = true;
        for (int i = 2; i * i <= n; i++) {
            if (n % i == 0) {
                bPrime = false;
                break;
            }
        }
        return bPrime;		// 返回一个 bool 类型的值
    }
    ```

- 模块：函数的声明

    ```cpp
    bool isPrime(int);
    ```

    有一个函数，名字叫 `isPrime`，有一个 `int` 的输入，输出为 `bool` 类型。函数的声明必须出现在函数调用之前，一般写在 `main` 函数前面。

- 使用：函数的调用

    ```cpp
    isPrime(n);
    ```

    调用名字为 `isPrime` 的函数，判断 $n$ 是否为素数。

    ![函数](img/%E5%87%BD%E6%95%B0.png)

## 2. 数组

- 数组的定义

    ```cpp
    int number[10];
    ```

    定义了一个大小为 $10$，名称为 `number`，存储 `int` 型数据的数组，相当于定义了 $10$ 个 `int` 类型的变量。

    中括号里面的数必须是整数，并且建议使用常量。**视频中说的必须使用常量，是因为 C++ 标准的不同，较新的标准（比如 C++11）均支持使用变量来定义数组大小，称为变长数组，但是我个人还是建议使用常量。**

- 数组的初始化

    ```cpp
    int number[10] = {0, 21, 2, 13, 4, 7, 9, 7, 8, 15};
    
    // 下面的写法是正确的，编译器会自动计算并补全数组大小
    int number[] = {0, 21, 2, 13, 4, 7, 9, 7, 8, 15};
    
    // 下面的写法是错误的，因为在定义数组时要让编译器知道变量占多少空间
    int number[];
    ```

- 数组的赋值

    数组中的每一项都可以作为独立的变量使用、赋值。

    ```cpp
    number[0] = 5;
    cin >> number[1];
    cout << number[x];
    
    // 下面的写法是错误的，因为除了初始化之外，不能对数组进行直接批量赋值
    number = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9};
    
    // 下面的写法是正确的，可以利用循环进行批量赋值
    for (int x = 0; x < 10; x++)
        number[x] = x;
    ```

## 3. 埃氏筛流程

1. “筛子” 系统的初始化

2. 枚举 $2$ 到 $\sqrt {100}$ 的每个数 $d$
    - 如果 $d$ 没有被筛掉
        - 用 $d$ 筛掉 $100$ 以内除了 $d$ 之外 $d$ 的倍数

3. 输出所有没有被筛掉的数

```cpp
const int N = 100;		// const 表示定义符号常量
bool seive[N + 1];
for (int i = 2; i <= N; i++)
    seive[i] = true;

for (int d = 2; d * d <= N; d++)
    if (seive[d])
        for (int x = d * d; x <= N; x += d)
            seive[x] = false;

for (int i = 2; i <= N; i++)
    if (seive[i])
        cout << i << " ";
```

## 4. 线性查找

